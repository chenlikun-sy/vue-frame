<template><div class=login-view><div><div><span>用户名称：</span> <input v-model=userName placeholder=输入用户名称></div><div><span>用户密码：</span> <input v-model=userPassWord placeholder=输入用户密码></div><div class=container><div id=captcha style="position: relative" data-type=password></div><div id=msg></div></div><div><el-button type=primary v-on:click=btnLoginClick>登录</el-button><el-button type=success v-on:click=btnCancelClick>取消</el-button></div></div></div></template><script lang='es6'>"use strict";define(["vju","vue-router","../common/jigsaw","css!../themes/jigsaw.css"],function(e,t){return e.component("login-view",{template:template,data:function(){return{userName:"zhangguoyin",userPassWord:"111111",flag:!1}},components:{},created:function(){localStorage.setItem("currUserName",""),localStorage.setItem("currUserTokenKey","")},beforeDestroy:function(){},methods:{btnLoginClick:function(){var e=this;this.isCheckInput()&&(this.passWordEncryption(this.userName),this.passWordEncryption(this.userPassWord),window.SysApp.getRoutesByDynamics(e.$router).then(function(){e.$store.commit("userInfoChange/setIsUserLogin",!0)}))},btnCancelClick:function(){localStorage.setItem("currUserName",""),localStorage.setItem("currUserTokenKey",""),this.userName="",this.userPassWord=""},isCheckInput:function(){return 1==this.flag||(alert("验证失败!"),!1)},passWordEncryption:function(e){return e}},watch:{},computed:{},mounted:function(){var e=this;window.jigsaw.init(document.getElementById("captcha"),function(){e.flag=!0,document.getElementById("msg").innerHTML="登录成功！"})}})});</script><style scoped>.login-view{width:100%;height:100%;display:flex;align-items:center;justify-content:center}.login-view>div>div>span{font-weight:700;font-size:14px;color:#aaa}.login-view>div>div input{width:260px;height:30px;border-radius:5px;border:1px solid #ccc;padding:0 5px}.login-view>div>div{margin:20px;text-align:center}.login-view>div{padding:20px 10px 5px 10px;border-radius:10px;border:1px solid #ccc;background:rgba(40,57,101,.9)}#msg{color:#fff}.container{height:132px}</style>